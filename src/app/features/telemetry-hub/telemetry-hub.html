<div class="min-h-screen bg-slate-950 text-slate-100 p-8">
  <div class="lg:col-span-12">
    <biometric-monitor></biometric-monitor>
  </div>

  <header class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10 mt-3">
    @for (kpi of store.kpiWidgets(); track kpi.label) {
      <widget type="KPI" [config]="kpi"></widget>
    }
  </header>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10">
    <div
      class="lg:col-span-1 bg-slate-900 border border-slate-800 p-8 rounded-2xl flex flex-col justify-between shadow-2xl">
      <div>
        <div class="flex items-center gap-2 mb-6">
          <div class="w-1.5 h-4 bg-indigo-500 rounded-full"></div>
          <h3 class="text-slate-400 uppercase text-xs font-bold tracking-widest">
            Global Fleet Status
          </h3>
        </div>

        <div class="mb-8">
          <span class="text-5xl font-black text-white tracking-tighter">
            {{ store.fleet().length }}
          </span>
          <span class="ml-2 text-slate-500 font-bold uppercase text-xs">Active Units</span>
        </div>

        <div class="space-y-3">
          <div class="flex justify-between text-[10px] font-bold uppercase tracking-wider">
            <span class="text-slate-500">Avg. Health Index</span>
            <span class="text-emerald-400 font-mono">94.2%</span>
          </div>
          <div class="w-full bg-slate-850 h-2 rounded-full overflow-hidden border border-slate-800">
            <div
              class="bg-linear-to-r from-emerald-600 to-emerald-400 h-full w-[94%] shadow-[0_0_10px_rgba(52,211,153,0.3)]"></div>
          </div>
        </div>
      </div>

      <button
        (click)="goToFleetGrid()"
        class="mt-10 py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl text-[11px] font-black uppercase tracking-[0.2em] transition-all transform hover:-translate-y-1 active:scale-95 shadow-lg shadow-indigo-500/20">
        View Full Fleet Detail
      </button>
    </div>
    <div class="lg:col-span-2">
      <map-viewer [locations]="store.locations()"></map-viewer>
    </div>
  </div>
</div>
